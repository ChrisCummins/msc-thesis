%%%%%%%%%%%%%%%%%%%%%%
%% Document details %%
%%%%%%%%%%%%%%%%%%%%%%

% Paper title
\title{SkelCL Initial Performance Results}

% Author
\author{Chris Cummins}

\input{preamble}

%%%%%%%%%%
%% Body %%
%%%%%%%%%%
\begin{document}

\maketitle

\begin{abstract}
  \noindent

\end{abstract}

\section{Profiling SKelCL programs}

\begin{itemize}
\item \textbf{init}
\item \textbf{build}
\item \textbf{prep}
\end{itemize}

Measured using profiling information from the OpenCL
API\footnote{\url{https://www.khronos.org/registry/cl/sdk/1.2/docs/man/xhtml/clGetEventProfilingInfo.html}}. \texttt{COMMAND\_START}
and \texttt{COMMAND\_END} event timestamps.

\begin{itemize}
\item \textbf{upload}
\item \textbf{run}
\item \textbf{download}
\end{itemize}

\begin{figure}
\centering
\includesvg[width=.8\textwidth]{img/GameOfLife-cec-c9b9bcf6c928d805a0730f1789fe205b2f39fc09-events}
\end{figure}

\section{Performance Parameters}

\begin{figure}
\includesvg[width=.5\textwidth]{img/GameOfLife-cec-f679f681af6ac3f41dc4f2284ed2039e0a79579a-events}
\includesvg[width=.5\textwidth]{img/GameOfLife-cec-8c5a7452d26b8294e841b29e0e749c40944fd69b-events}
\caption{a}
\label{fig:}
\end{figure}

\begin{figure}
\includesvg[width=.5\textwidth]{img/GameOfLife-cec-0ed9d7941c644e44e34aab38b6ea031c1f2f0a9f-events}
\includesvg[width=.5\textwidth]{img/GameOfLife-cec-f88ff13f204fa812571941a74a7cf72941f96fb8-events}
\caption{b}
\label{fig:}
\end{figure}

\begin{table}
\footnotesize
\centering
\begin{tabular}{| l | l | l | l | l |}
\hline
\textbf{CPU} & \textbf{Memory} & \textbf{GPUs} & \textbf{Name}\\
\hline
Intel i7-4770 & 16GiB & NVIDIA GTX TITAN & \textit{whz5}\\
Intel i7-2600K & 16GiB & NVIDIA GTX 690 & \textit{dhcp-60-090}\\
Intel i7-2600K & 8GiB & 2$\times$ NVIDIA GTX 590 & \textit{tim}\\
Intel i7-3820 & 8GiB & 2$\times$ AMD Tahiti 7970 & \textit{monza}\\
Intel i5-4570 & 8GiB & - & \textit{cec}\\
\hline
\end{tabular}
\caption{Testing hardware.}
\label{tab:hw}
\end{table}

Table~\ref{tab:breakeven} shows the ``break-even'' point between

\begin{table}
\footnotesize
\centering
\begin{tabular}{| l | l | l | l | l |}
\hline
\textbf{Host} & \textbf{Devices} & \textbf{Application} & \textbf{Speedups\ldots} & \textbf{Break-even point}\\
\hline
cec & CPU & GameOfLife (1024) & 3.44 \ldots 1.91 1.85 \textit{1.78} & 19 \\
cec & CPU & GameOfLife (2048) & 2.98 \ldots 1.07 1.02 \textit{0.97} & 16 \\
cec & CPU & GameOfLife (4096) & 1.95 1.41 1.17 \textit{0.99} & 4 \\
cec & CPU & HeatEquation (1024) & 3.65 \ldots 2.01 1.95 \textit{1.89} & 19 \\
cec & CPU & HeatEquation (2048) & 3.11 \ldots 1.05 1.01 \textit{0.95} & 16 \\
cec & CPU & HeatEquation (4096) & 1.87 1.45 1.14 \textit{0.98} & 4 \\
whz5 & 1x GPU & GameOfLife (4096) & 1.13 \textit{0.91} & 2 \\
whz5 & 1x GPU & HeatEquation (4096) & 1.13 \textit{0.91} & 2 \\
tim & 1x GPU & GameOfLife (1024) & 1.20 \textit{0.86} & 2 \\
tim & 1x GPU & GameOfLife (2048) & 1.12 \textit{0.79} & 2 \\
tim & 1x GPU & GameOfLife (4096) & 1.11 \textit{0.79} & 2 \\
tim & 2x GPU & GameOfLife (1024) & 1.21 \textit{0.86} & 2 \\
tim & 2x GPU & GameOfLife (2048) & 1.29 \textit{0.87} & 2 \\
tim & 2x GPU & GameOfLife (4096) & 1.28 \textit{0.87} & 2 \\
tim & 3x GPU & GameOfLife (1024) &  & - \\
tim & 3x GPU & GameOfLife (1024) & 1.39 1.24 \textit{0.96} & 3 \\
tim & 3x GPU & GameOfLife (2048) &  & - \\
tim & 3x GPU & GameOfLife (2048) & 1.37 1.24 \textit{0.93} & 3 \\
tim & 3x GPU & GameOfLife (4096) &  & - \\
tim & 3x GPU & GameOfLife (4096) & 1.37 1.23 \textit{0.93} & 3 \\
tim & 4x GPU & GameOfLife (1024) & 1.32 \textit{0.90} & 2 \\
tim & 4x GPU & GameOfLife (2048) & 1.42 \textit{0.89} & 2 \\
tim & 4x GPU & GameOfLife (4096) & 1.43 \textit{0.92} & 2 \\
tim & 1x GPU & HeatEquation (1024) & 1.23 \textit{0.86} & 2 \\
tim & 1x GPU & HeatEquation (2048) & 1.12 \textit{0.79} & 2 \\
tim & 1x GPU & HeatEquation (4096) & 1.12 \textit{0.79} & 2 \\
tim & 2x GPU & HeatEquation (1024) & 1.21 \textit{0.85} & 2 \\
tim & 2x GPU & HeatEquation (2048) & 1.30 \textit{0.87} & 2 \\
tim & 2x GPU & HeatEquation (4096) & 1.29 \textit{0.87} & 2 \\
tim & 3x GPU & HeatEquation (1024) &  & - \\
tim & 3x GPU & HeatEquation (1024) & 1.29 1.23 1.09 \textit{0.99} & 4 \\
tim & 3x GPU & HeatEquation (2048) &  & - \\
tim & 3x GPU & HeatEquation (2048) & 1.37 1.24 \textit{0.92} & 3 \\
tim & 3x GPU & HeatEquation (4096) &  & - \\
tim & 3x GPU & HeatEquation (4096) & 1.38 1.22 \textit{0.92} & 3 \\
tim & 4x GPU & HeatEquation (1024) & 1.38 \textit{0.90} & 2 \\
tim & 4x GPU & HeatEquation (2048) & 1.45 \textit{0.92} & 2 \\
tim & 4x GPU & HeatEquation (4096) & 1.42 \textit{0.92} & 2 \\
monza & 1x GPU & GameOfLife (4096) & 1.54 1.16 \textit{0.96} & 3 \\
monza & 2x GPU & GameOfLife (4096) &  & - \\
monza & 2x GPU & GameOfLife (4096) & 1.43 1.08 \textit{0.85} & 3 \\
monza & CPU & GameOfLife (4096) & 1.14 \textit{0.83} & 2 \\
monza & 1x GPU & HeatEquation (4096) &  & - \\
monza & 1x GPU & HeatEquation (4096) & \textit{1.57} & 1 \\
monza & 2x GPU & HeatEquation (4096) &  & - \\
monza & 2x GPU & HeatEquation (4096) & 1.45 1.09 \textit{0.93} & 3 \\
monza & CPU & HeatEquation (4096) & 1.14 \textit{0.83} & 2 \\
\hline
\end{tabular}
\caption{}
\label{tab:breakeven}
\end{table}

% \begin{table}
% \footnotesize
% \centering
% \begin{tabular}{| l | l | l | l | l |}
% \hline
% \textbf{Name} & \textbf{Application} & \textbf{Skeletons used} & \textbf{Iterative?} & \textbf{LOC}\\
% \hline
% CannyEdgeDetection & Image processing & Stencil & - & 225 / 61\\
% DotProduct & Linear algebra & Zip, Reduce & - & 143 / 2\\
% FDTD & Scientific simulation & Map, Stencil & Y & 375 / 127\\
% GameOfLife & Cellular automata & Stencil & Y & 92 / 12\\
% GaussianBlur & Image processing & Stencil & - & 262 / 47\\
% HeatSimulation & Scientific simulation & Stencil & Y & 180 / 13\\
% MandelbrotSet & Fractal computation & Map & Y & 133 / 78\\
% MatrixMultiply & Linear algebra & AllPairs & - & 267 / 8\\
% SAXPY & Linear algebra & Zip & - & 149 / 3\\
% \hline
% \end{tabular}
% \caption{Benchmark applications. The LOC column shows lines of code, split between host (C++) and device (OpenCL).}
% \label{tab:benchmarks}
% \end{table}


\section{Conclusions}

\label{bibliography}
\printbibliography
\end{document}
